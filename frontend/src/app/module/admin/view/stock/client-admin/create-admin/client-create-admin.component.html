<p-dialog [(visible)]="createDialog" [style]="{width: '70vw'}" header="{{'clientTabPan' | translate}}" [modal]="true"
          styleClass="p-fluid" [maximizable]="true" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="content">
        <p-tabView>
            <p-tabPanel header="{{'clientTabPan' | translate}}">
                <div class="grid">

                    <div class="field col-12 md:col-4">
                        <label for="1">{{'clientCin' | translate}}<span style="color: red;">*</span></label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'clientCin' | translate}}" id="1"
                               [(ngModel)]="item.cin"
                               [ngClass]="{'ng-invalid ng-dirty' : !validClientCin}"/>
                        <small class='p-error' *ngIf='!validClientCin'>Cin est obligatoire.</small>
                    </div>


                    <div class="field col-12 md:col-4">
                        <label for="2">{{'clientNom' | translate}}<span style="color: red;">*</span></label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'clientNom' | translate}}" id="2"
                               [(ngModel)]="item.nom"
                               [ngClass]="{'ng-invalid ng-dirty' : !validClientNom}"/>
                        <small class='p-error' *ngIf='!validClientNom'>Nom est obligatoire.</small>
                    </div>


                    <div class="field col-12 md:col-4">
                        <label for="3">{{'clientTel' | translate}}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'clientTel' | translate}}" id="3"
                               [(ngModel)]="item.tel"
                        />

                    </div>


                    <div class="field col-12 md:col-4">
                        <label for="4">{{'clientEmail' | translate}}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'clientEmail' | translate}}"
                               id="4" [(ngModel)]="item.email"
                        />

                    </div>


                    <div class="field col-12 md:col-4">
                        <label for="5">{{'clientAdresse' | translate}}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'clientAdresse' | translate}}"
                               id="5" [(ngModel)]="item.adresse"
                        />

                    </div>

                    <div class="field col-12 md:col-4">
                        <!--    <p-fileUpload name="file" [customUpload]="true" (uploadHandler)="onSelectedFile($event)"
                                        [auto]="true"></p-fileUpload>-->
                                        <label></label>
                        <p-fileUpload name="files" [customUpload]="true" (uploadHandler)="uploadOne($event)"
                                      [auto]="true"></p-fileUpload>
                                      <button (click)="downloadFile()">Download File</button>
                    </div>

                    <div class="field col-12 md:col-4">
                        <label for="6">{{'clientDescription' | translate}}</label>
                        <textarea id="6" pInputTextarea rows="5" cols="30"
                                  placeholder="{{'clientDescription' | translate}}" [(ngModel)]="item.description"
                        ></textarea>

                    </div>

                    <div *ngIf="filenames?.length > 0" class="js-upload-finished">
                        <h3>Processed files</h3>
                        <div *ngFor="let filename of filenames" class="list-group">
                          <a (click)="downloadFiles(filename)" class="list-group-item list-group-item-success" style="cursor: pointer;">
                            {{ filename }}            
                            <a class="alert-success float-right">Download</a>
                          </a><br>
                        </div>
                      </div>

                    <div class="field col-12 md:col-4">
                        <label for="7">{{'clientCreance' | translate}}</label>
                        <p-inputNumber class="mb-2 mr-2" id="7" placeholder="{{'clientCreance' | translate}}"
                                       [(ngModel)]="item.creance">
                        </p-inputNumber>

                    </div>


                </div>
            </p-tabPanel>

        </p-tabView>

    </ng-template>

    <ng-template pTemplate="footer">
        <div class="grid-footer">
            <div>
                <button pButton pRipple label="Annuler" icon="pi pi-times" class="p-button-outlined"
                        (click)="hideCreateDialog()"></button>
            </div>
            <div>
                <button pButton pRipple label="Valider" icon="pi pi-check" style="margin:10px"
                        (click)="save()"></button>

            </div>
        </div>
    </ng-template>


</p-dialog>
